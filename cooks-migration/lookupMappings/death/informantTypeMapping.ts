import { DeathInformant } from '../../helpers/deathTypes.ts'

export const informantTypeMapping: Record<string, DeathInformant> = {
  // SPOUSE types
  HUSBAND: 'SPOUSE',
  HUSBAN: 'SPOUSE',
  HUBAND: 'SPOUSE',
  HUSAND: 'SPOUSE',
  HUSMAND: 'SPOUSE',
  HISBAND: 'SPOUSE',
  HUISBAND: 'SPOUSE',
  HUSBANDN: 'SPOUSE',
  WIFE: 'SPOUSE',
  WIDOW: 'SPOUSE',
  WIDOWER: 'SPOUSE',
  'DIVORCED WIFE': 'SPOUSE',
  PARTNER: 'SPOUSE',
  FIANCEE: 'SPOUSE',

  // MOTHER types
  MOTHER: 'MOTHER',
  MOTHERT: 'MOTHER',
  MOPTHER: 'MOTHER',
  MOTHR: 'MOTHER',
  'ADOPTED MOTHER': 'MOTHER',
  'FEEDING MOTHER': 'MOTHER',
  'FOSTER MOTHER': 'MOTHER',
  'STEP MOTHER': 'MOTHER',
  GRANDMOTHER: 'MOTHER',
  'GRAND MOTHER': 'MOTHER',
  'G.MOTHER': 'MOTHER',
  GRADMOTHER: 'MOTHER',
  GRANDMOTHRER: 'MOTHER',
  'GREAT GRANDMOTHER': 'MOTHER',
  'MOTHER IN LAW': 'MOTHER',
  'FATHERS MOTHER': 'MOTHER',
  STEPMOM: 'MOTHER',

  // FATHER types
  FATHER: 'FATHER',
  FATHERT: 'FATHER',
  FARTHER: 'FATHER',
  FATHE: 'FATHER',
  ATHER: 'FATHER',
  FATHER6: 'FATHER',
  'ADOPTED FATHER': 'FATHER',
  'ADOPOTED FATHER': 'FATHER',
  'ADOPTED AFTHER': 'FATHER',
  'ADOPTED FATHERT': 'FATHER',
  'ADOTED SON': 'OTHER', // This seems to be a typo for adopted son
  'FEEDING FATHER': 'FATHER',
  'FEDDING FATHER': 'FATHER',
  'FEEDIG FATHER': 'FATHER',
  'FEEDINF FATHER': 'FATHER',
  'FOSTER FATHER': 'FATHER',
  'STEP FATHER': 'FATHER',
  STEPFATHER: 'FATHER',
  GRANDFATHER: 'FATHER',
  'GRAND FATHER': 'FATHER',
  'GD FATHER': 'FATHER',
  GRADFATHER: 'FATHER',
  GRADNFATHER: 'FATHER',
  GRANDFAHER: 'FATHER',
  GRANDFATHE: 'FATHER',
  GRANDFATHEER: 'FATHER',
  GRANDFATHNER: 'FATHER',
  'STEP GRANDFATHER': 'FATHER',
  'GRAND STEP FATHER': 'FATHER',
  'FATHER IN LAW': 'FATHER',
  'STEP FATHER IN LAW': 'FATHER',
  'NATURAL GRANDFATHER': 'FATHER',
  'FATHER OF MOTHER': 'FATHER',

  // All OTHER types - siblings, children, extended family, officials, etc.
  BROTHER: 'OTHER',
  BROTHE: 'OTHER',
  BROTHEER: 'OTHER',
  BOTHER: 'OTHER',
  NROTHER: 'OTHER',
  'BROTHER IN LAW': 'OTHER',
  'BROTHER-IN-LAW': 'OTHER',
  'BROTHEWR IN LAW': 'OTHER',
  'HALF BROTHER': 'OTHER',
  'STEP BROTHER': 'OTHER',
  'ELDER BROTHER': 'OTHER',
  'ELDRE BROTHER': 'OTHER',
  'YOUNGER BROTHER': 'OTHER',
  '1/2 BROTHER': 'OTHER',
  'FAMILY BROTHER': 'OTHER',
  SISTER: 'OTHER',
  'SISTER IN LAW': 'OTHER',
  'STEP SISTER': 'OTHER',
  DAUGHTER: 'OTHER',
  'ADOPTED DAUGHTER': 'OTHER',
  'ADOPTED  DAUGHTER': 'OTHER',
  'DAOPTED DAUGHTER': 'OTHER',
  'FEEDING DAUGHTER': 'OTHER',
  'FOSTER DAUGHTER': 'OTHER',
  STEPDAUGHTER: 'OTHER',
  DAUGHETR: 'OTHER',
  DAUGHTERS: 'OTHER',
  'DAUGHTER IN LAW': 'OTHER',
  'DAUGHTER INLAW': 'OTHER',
  'DAUGHTR IN LAW': 'OTHER',
  'GRAND DAUGHTER': 'OTHER',
  GRANDDAUGHTER: 'OTHER',
  GRANDAUGHTER: 'OTHER',
  'GRAND DAGHTER': 'OTHER',
  'GRAND DUAGHTER': 'OTHER',
  'GRAND DAUGHTER IN LAW': 'OTHER',
  'GREAT GRAND DAUGHTER': 'OTHER',
  SON: 'OTHER',
  SOM: 'OTHER',
  MSON: 'OTHER',
  AON: 'OTHER',
  SONS: 'OTHER',
  'ADOPTED SON': 'OTHER',
  'FEEDING SON': 'OTHER',
  'FOSTER SON': 'OTHER',
  'STEP SON': 'OTHER',
  STEPSON: 'OTHER',
  'STEP FEEDING SON': 'OTHER',
  '3RD SON': 'OTHER',
  'SON IN LAW': 'OTHER',
  'SON - IN - LAW': 'OTHER',
  'SON IN ALW': 'OTHER',
  'SO IN LAW': 'OTHER',
  'ADOPTED SON IN LAW': 'OTHER',
  'SON IN LAW - ADOPTED DAUGHTER': 'OTHER',
  GRANDSON: 'OTHER',
  'GRAND SON': 'OTHER',
  GRANSON: 'OTHER',
  GRADSON: 'OTHER',
  GRADNSON: 'OTHER',
  GRANDON: 'OTHER',
  'GRANS ON': 'OTHER',
  'GRAND-SON': 'OTHER',
  'GRANDSON IN LAW': 'OTHER',
  'FEEDING GRANDSON': 'OTHER',
  COUSIN: 'OTHER',
  COPUSIN: 'OTHER',
  'CPOUSIN 3RD DEGREE': 'OTHER',
  '1ST COUSIN': 'OTHER',
  '2ND COUSINS': 'OTHER',
  '2 ND COUSIN': 'OTHER',
  'SECOND COUSIN': 'OTHER',
  'COUSIN O F HUSBAND': 'OTHER',
  'COUSIN OF FATHER': 'OTHER',
  NEPHEW: 'OTHER',
  'N  EPHEW': 'OTHER',
  'NEPHEW IN LAW': 'OTHER',
  'GRAND NEPHEW': 'OTHER',
  GRANDNEPHEW: 'OTHER',
  'GRAND-NEPHEW': 'OTHER',
  'GRAND NWPHEW': 'OTHER',
  'GREAT GRAND NIECE': 'OTHER',
  'FUNERAL DIRECTOR / NEPHEW': 'OTHER',
  NIECE: 'OTHER',
  'GRAND NIECE': 'OTHER',
  GRANDNIECE: 'OTHER',
  'GREAT NIECE': 'OTHER',
  'INFORMANT / GRAND NIECE': 'OTHER',
  UNCLE: 'OTHER',
  UNCEL: 'OTHER',
  UNCLI: 'OTHER',
  UNCLKE: 'OTHER',
  NUCLE: 'OTHER',
  MUNCLE: 'OTHER',
  'GREAT UNCLE': 'OTHER',
  'GRAND UNCLE': 'OTHER',
  'GRAND UNLCE': 'OTHER',
  'GRAND UBNCLE': 'OTHER',
  GRANDUNCLE: 'OTHER',
  'UNCLE BY ADOPTION': 'OTHER',
  'UNCLE OF DECEASED HUSBAND': 'OTHER',
  'UNCLE-IN-LAW': 'OTHER',
  'HUSBANDS UNCLE': 'OTHER',
  'RELATION UNCLE': 'OTHER',
  AUNT: 'OTHER',
  'AUN T': 'OTHER',
  AUNTY: 'OTHER',
  'GRAND AUNT': 'OTHER',
  'ADOPTED CHILD': 'OTHER',
  'FEEDING CHILD': 'OTHER',
  'FOSTER CHILD': 'OTHER',
  'ADOPTED PARENT': 'OTHER',
  'FEEDING PARENT': 'OTHER',
  'FOSTER PARENT': 'OTHER',
  PARENT: 'OTHER',
  GRANDCHILD: 'OTHER',
  GRANOTHER: 'OTHER',
  RELATION: 'OTHER',
  REALTION: 'OTHER',
  REATION: 'OTHER',
  RELARTION: 'OTHER',
  RELATIVE: 'OTHER',
  'CLOSE RELATIVE': 'OTHER',
  'DISTANT RELATIVE': 'OTHER',
  'DISTAUT RELATIVE': 'OTHER',
  'ELDER RELATIVE': 'OTHER',
  'NONE RELATIVE': 'OTHER',
  'FAMILY RELATIVE': 'OTHER',
  'FAMILY MEMBER': 'OTHER',
  'RELATIVE FAMILY': 'OTHER',
  'RELATION BY MARRIAGE': 'OTHER',
  'RELATIVE BY MARRIAGE': 'OTHER',
  'RELATIVE OF THE FATHER': 'OTHER',
  'RELATION DAUGHTER': 'OTHER',
  ELATION: 'OTHER',
  FRIEND: 'OTHER',
  FIREND: 'OTHER',
  FREIND: 'OTHER',
  'NO FRIEND': 'OTHER',
  'FRIEND WHO LOOKED AFTER HER': 'OTHER',
  'FAMILY FRIEND': 'OTHER',
  INFORMANT: 'OTHER',
  INFOARMANT: 'OTHER',
  INFOMANT: 'OTHER',
  INFOMRANT: 'OTHER',
  INFOPRMANT: 'OTHER',
  INFORANT: 'OTHER',
  INFPORMANT: 'OTHER',
  INFPRMANT: 'OTHER',
  INFROAMTN: 'OTHER',
  IONFORMANT: 'OTHER',
  OINFORMANT: 'OTHER',
  'INFORMANT / HUSBAND': 'SPOUSE',
  'INFORMANT / SISTER': 'OTHER',
  'INFORMANT / SON': 'OTHER',
  'INFORANT/DAUGHTER': 'OTHER',
  'INFORMANT/ DAUGHTER': 'OTHER',
  'INFORMANT/DAUGHTER': 'OTHER',
  'INFORMANT/ DAUGHTER IN LAW': 'OTHER',
  'INFORMANT/ MOHTER': 'MOTHER',
  'INFORMANT/FATHER/MOTHER': 'OTHER',
  'INFORMANT/HUSBAND': 'SPOUSE',
  'INFORMANT/MOTHER': 'MOTHER',
  'INFORMANT/SON': 'OTHER',
  'INFORMANT/WIFE': 'SPOUSE',
  CORONER: 'OTHER',
  COROENR: 'OTHER',
  CONSTABLE: 'OTHER',
  'CONSTABLE OF POLICE': 'OTHER',
  'CONSTABLE. INFORMANT': 'OTHER',
  'CHIEF OF POLICE': 'OTHER',
  POLICE: 'OTHER',
  POLICEMAN: 'OTHER',
  'FUNERAL DIRECTOR': 'OTHER',
  'FUERAL DIRECTOR': 'OTHER',
  'FUNEARL DIRECTOR': 'OTHER',
  'FUNERLA DIRECTOR': 'OTHER',
  'F. DIRECTOR': 'OTHER',
  'F DIRECTOR': 'OTHER',
  'F . DIRECTORM': 'OTHER',
  'F. DIRECTOR/ BROTHER': 'OTHER',
  'R.C.PRIEST. FUNERAL DIRECTOR': 'OTHER',
  DOCTOR: 'OTHER',
  NURSE: 'OTHER',
  'ISLAND NURSE': 'OTHER',
  'NURSE AIDE': 'OTHER',
  'MIDWIFE NURSE': 'OTHER',
  PASTOR: 'OTHER',
  'NATIVE PASTOR': 'OTHER',
  'NATIVE PASTRO': 'OTHER',
  'SDA PASTOR': 'OTHER',
  MINSTER: 'OTHER',
  REGISTRER: 'OTHER',
  'REGISTRER OF DEATH': 'OTHER',
  'D/REGISTRAR': 'OTHER',
  SECRETARY: 'OTHER',
  CAPTAIN: 'OTHER',
  'CHIEF ADMINISTRATOR OFFICER': 'OTHER',
  'ACT RES AGENT': 'OTHER',
  'RESIDENT AGENT': 'OTHER',
  'HOUSE KEEPER': 'OTHER',
  'DOMESTIC DUTIES': 'OTHER',
  FISHERMAN: 'OTHER',
  PLANTER: 'OTHER',
  'TOUR GUIDE RAROTONGAN HOTEL': 'OTHER',
  'PRESENT AT DEATH': 'OTHER',
  'NO RELATION': 'OTHER',
  'NO REALTION': 'OTHER',
  'NO RELANTON': 'OTHER',
  'NO RELATON': 'OTHER',
  NORELATION: 'OTHER',
  'ON RELATION': 'OTHER',
  NONE: 'OTHER',
  NIL: 'OTHER',
  'FOSTER BROTHER': 'OTHER',
  'ADOPTED SON OR UNLCE': 'OTHER',
  'NEE WILLIAMS': 'OTHER',
  'BROTHER OF NEKE': 'OTHER',
  JNR: 'OTHER',
  ATIU: 'OTHER',
  DON: 'OTHER',
  // Cook Islands Maori terms
  'E METUA NONA': 'OTHER',
  'E TAMAITI KOPU TANGATA': 'OTHER',
  'E TAMAITI NA TONA TEINA': 'OTHER',
  'E TEINA TUAKANA': 'OTHER',
  'E TUNGANE NO TE VAINE': 'OTHER',
  'MAKI VAINE': 'OTHER',
  METUA: 'OTHER',
  TAMAITI: 'OTHER',
  'TAMAITI KOPU TANGATA': 'OTHER',
  TAUHUNU: 'OTHER',
  'TEEI APOLO': 'OTHER',
  TEINA: 'OTHER',
  TOHETE: 'OTHER',
  TOKETE: 'OTHER',
  TUAINE: 'OTHER',
  NGATANGIIA: 'OTHER',
  'HUSB AND': 'SPOUSE',
  'FATHE R': 'FATHER',
  'DAUGHTER/SON': 'OTHER',
  'DAUGHTER/WIFE': 'OTHER',
  'FATHER/MONTHER': 'OTHER',
  'FATHER/MOTHER': 'OTHER',
  'MOTHER[SON': 'OTHER',
}

export function parseInformantDescription(description: string): {
  name: string
  relationType: DeathInformant
  otherRelation?: string
} {
  const match = description.match(/^(.+?)\s*\[([^\]]+)\]\s*$/)

  if (match) {
    const name = match[1].trim()
    const rawRelation = match[2].trim().toUpperCase()

    const relationType = informantTypeMapping[rawRelation] || 'OTHER'

    return {
      name,
      relationType,
      otherRelation: relationType === 'OTHER' ? rawRelation : undefined,
    }
  }

  return {
    name: description.trim(),
    relationType: 'OTHER',
  }
}
